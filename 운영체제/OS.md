
# 운영체제
> Operation System 또는 OS라고 불린다.
+ 대표적인 운영체제
  - Windows OS, Mac OS, UNIX
  - UNIX 계열 OS (UNIX와 사용법이나 OS 구조가 유사)
    - LINUX OS

## 운영체제의 역할

### 1. 시스템 자원(System Resource) 관리
> 시스템 자원 : 컴퓨터 하드웨어 (CPU(중앙처리장치), Memory(DRAM, RAM), I/O Devices(입출력장치), 저장매체(SSD, HDD))
+ CPU : 각 프로그램이 얼마나 CPU를 사용할지 결정
+ Memory : 각 프로그램이 어느 주소에 어느정도 메모리 공간을 확보해야 하는지 결정
+ 저장매체 : 어떻게, 어디에 저장할지 결정
+ I/O Devices : 입출력 장치를 표시

### 2. 사용자와 컴퓨터간의 커뮤니케이션 지원
> OS가 사용자의 명령을 전달
+ 사용자 인터페이스
  + 쉘 (Shell)
    + 사용자가 운영체제 기능과 서비스를 조작할 수 있도록 인터페이스를 제공하는 프로그램
    + CLI(터미널 환경), GUI로 구분된다.
    + 쉘도 응용 프로그램으로 API를 통해 운영체제에 요청
 
+ 응용 프로그램 인터페이스
  + 시스템 콜 (시스템 호출 인터페이스)
    > 운영체제 기능을 호출하는 함수
    + 운영체제가 운영체제 각 기능을 사용할 수 있도록 시스템 콜이라는 명령 또는 함수를 제공
    + API 내부에는 시스템 콜을 호출하는 형태로 만들어지는 경우가 대부분
  + API(Application Programming Interface)
    > 요청서의 집합, 각 언어별 운영체제 기능 호출 인터페이스 함수
    + 함수로 제공
    + 보통은 라이브러리(library) 형태로 제공  

### 3. 응용 프로그램 관리

>프로그램 = 소프트웨어   
>소프트웨어 = 운영체제, 응용 프로그램(ex: 엑셀, 파워포인트 등 ..)   
>응용프로그램 = Application(PC) = App(모바일)   

+ 응용 프로그램 실행
+ 응용 프로그램간의 권한 관리
  + 관리자 권한으로 실행
+ 응용 프로그램을 사용하는 사용자도 관리
  + 사용자 로그인

<pre>
 운영체제의 목표 : 사용자가 사용하는 응용 프로그램을 효율적으로, 적절하게 작동하도록 지원
 운영체제는 응용 프로그램이 요청하는 시스템 리소스를 효율적으로 분배하고, 지원하는 소프트웨어
</pre>

![os_structure](./image.png)

## CPU Protection Rings
> 함부로 응용 프로그램이 전체 컴퓨터 시스템을 헤치지 못하게 하기 위함
### Mode
+ 사용자 모드(user mode) : 응용 프로그램이 사용
+ 커널 모드(kernel mode) : OS가 사용
  + 커널 모드에서만 실행 가능한 기능들이 존재
  + 커널 모드를 실행하려면, 반드시 시스템 콜을 거쳐야 한다.

<pre>
  운영체제는 시스템 콜 제공
  프로그래밍 언어별로 운영체제 기능을 활용하기 위해, 시스템 콜 기반으로 API를 제공
  응용 프로그램은 운영체제 기능 필요시, 해당 API를 사용하여 프로그램을 작성
  응용 프로그램이 실행되어, 운영체제 기능이 필요한 API를 호출하면, 시스템 콜이 호출되어,    
  커널모드로 변경되어 OS 내부에서 해당 명령이 실행되고, 다시 응용 프로그램으로 돌아간다.
</pre>

## 프로세스 스케줄링

### 배치 처리 시스템
+ 큐와 유사한 시스템 처리방식 (First In First Out)
  + 먼저 실행된 응용 프로그램이 끝나야 다음 프로그램 실행
  + 동시에 여러 응용프로그램 실행 불가
  + 다중 사용자 지원 X

### 시분할 시스템 
+ 다중 사용자 지원을 위해 컴퓨터 응답시간을 최소화 하는 시스템

### 멀티 태스킹
+ 단일 CPU에서, 여러 응용 프로그램이 동시에 실행되는 것처럼 보이게 하는 시스템

### 멀티 프로세싱
+ 여러 CPU에 하나의 응용 프로그램을 병렬로 실행하여 실행속도를 극대화 시키는 시스템

### 멀티 프로그래밍
+ 최대한 CPU를 일정 시간동안 많이 활용하도록 하는 시스템

<pre>
  실제로 시분할 시스템, 멀티 프로그래밍, 멀티 태스킹이 유사한 의미로 통용
</pre>

## 스케줄링 알고리즘

### 프로세스(process)
> 작업, task, job이라는 용어와 혼용
+ 메모리에 올려져서, 실행중인 프로그램
+ 코드 이미지(바이너리) 실행파일
+ 프로세스 != 응용 프로그램
  + 하나의 응용 프로그램은 여러 개의 프로세스(프로그램)가 상호작용을 하면서 실행될 수도 있음
  + 여러 프로그램을 만들어서, 서로 통신하면서 프로그램을 작성할 수도 있음 (IPC 기법)
+ 상태
  + new : 프로세스 생성
  + running state : 현재 CPU에서 실행 상태
  + ready state : CPU에서 실행 가능한 상태 (실행 대기 상태)
  + block state : 특정 이벤트 발생 대기 상태
  + exit : 종료

### 스케줄러
+ 프로세스 실행을 관리

### 스케줄링 알고리즘
> 프로세스가 저장매체를 읽는 다든지, 프린팅을 한다든지 하는 작업 없이 쭉 CPU를 처음부터 끝까지 사용한다 가정.

#### FIFO 스케줄러 (First In, First Out : FIFO)
+ 가장 간단한 스케줄러 (배치 처리 시스템) 
+ FCFS (First Come First Served) 스케줄러

#### 최단 작업 우선 스케줄러 (Shoest Job First : SJF)
+ 프로세스 실행 시간이 가장 짧은 프로세스부터 먼저 실행 

#### 우선순위 기반 스케줄러 (Priority)
+ 우선순위에 따라 프로세스 실행
  + 정적 우선순위
    + 프로세스마다 우선순위를 미리 지정
  + 동적 우선순위
    + 스케줄러가 상황에 따라 우선순위를 동적으로 변경

#### Round Robin 스케줄러 (RR)
+ 시분할 시스템을 위해 고안된 선점 스케줄링
+ 프로세스가 시간이 만료될 때까지 처리를 완료하지 못하면 대기 중인 다음 프로세스가 실행되고 실행 중이던 프로세스는 작업 큐의 가장 뒤로 보내진다.
 
> 선점 : 한 프로세스가 CPU를 할당받아 실행 중이라도 다른 프로세스가 현재 프로세스를 중지시키고 CPU를 강제적으로 뺏을 수 있는 방식   
> 비선점 : 한 프로세스가 CPU를 할당받아 실행 중이면 다른 프로세스들이 CPU를 강제로 뻇을 수 없는 방식


